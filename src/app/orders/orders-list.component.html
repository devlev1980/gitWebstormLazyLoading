<div class="clr-row">
  <div class="text-center">
    <mat-form-field class="example-full-width">
      <input matInput placeholder="Artist" [(ngModel)]="artist" [formControl]="searchControl"
             (input)=getSpotifyArtists(artist) [matAutocomplete]="auto">
    </mat-form-field>

    <mat-autocomplete #auto="matAutocomplete" [hidden]="!artist">
      <mat-option *ngFor="let item of spotifyArtists.artists?.items" [value]="item.name"
                  (onSelectionChange)="getArtistAlbums(item.id)">
        {{ item.name }}
      </mat-option>
    </mat-autocomplete>
  </div>

</div>

<mat-table #table [dataSource]="dataSource" *ngIf="dataSource;else spinner" matSort class="mat-elevation-z8">
  <ng-container matColumnDef="index">
    <mat-header-cell *matHeaderCellDef mat-sort-header> No</mat-header-cell>
    <mat-cell *matCellDef="let album;let i=index" (click)="onAlbumDetails(album.id)">{{i+1}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="artwork">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Artwork</mat-header-cell>
    <mat-cell *matCellDef="let album" (click)="onAlbumDetails(album.id)"><img src="{{album.images[0].url}}"
                                                                              alt="artwork"></mat-cell>
  </ng-container>
  <!--artist-->
  <ng-container matColumnDef="album name">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Album Name</mat-header-cell>
    <mat-cell *matCellDef="let album" (click)="onAlbumDetails(album.id)">{{album.name}}</mat-cell>
  </ng-container>

  <!-- name Column -->
  <ng-container matColumnDef="release date">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Release Date</mat-header-cell>
    <mat-cell *matCellDef="let album" (click)="onAlbumDetails(album.id)"> {{album.release_date}}</mat-cell>
  </ng-container>

  <!-- playcount Column -->
  <ng-container matColumnDef="total tracks">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Total Tracks</mat-header-cell>
    <mat-cell *matCellDef="let album" (click)="onAlbumDetails(album.id)"> {{album.total_tracks}}</mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>


</mat-table>
<mat-paginator [length]="length"
               [hidden]="!dataSource"
               [pageSize]="pageSize"
               [pageSizeOptions]="pageSizeOptions"
               (page)="pageEvent = $event">

</mat-paginator>

<ng-template #spinner>

  <mat-spinner [diameter]="40" color="primary"></mat-spinner>
</ng-template>


